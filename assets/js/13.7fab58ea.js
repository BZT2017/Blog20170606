(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{214:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-vue-virtual-scroller-长列表优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-vue-virtual-scroller-长列表优化"}},[t._v("#")]),t._v(" 1. vue-virtual-scroller 长列表优化")]),t._v(" "),s("h3",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("vue-virtual-scroller 是一个专门优化超长列表或无线滚动列表的 npm 包。")])]),t._v(" "),s("li",[s("p",[t._v("当用户在 RecycleScroller 中滚动时，视图通常只是在四处移动以填充新的可见空间，并且默认的插槽属性已更新。这样，我们就可以最少地创建和销毁组件/元素，并充分利用 Vue 虚拟 dom diff 算法的强大功能来优化 DOM 操作！")])])]),t._v(" "),s("h3",{attrs:{id:"使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("超长列表&无线滚动列表性能优化")])]),t._v(" "),s("li",[s("p",[t._v("如果你的应用存在非常长或者无限滚动的列表，那么采用 窗口化 的技术来优化性能，只需要渲染少部分区域的内容，减少重新渲染组件和创建 dom 节点的时间。")])])]),t._v(" "),s("h3",{attrs:{id:"demo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[t._v("#")]),t._v(" Demo")]),t._v(" "),s("ul",[s("li",[t._v("使用 HTML 模板")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("RecycleScroller")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 具有预先计算的总高度的包装器元素 --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("wrapper")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" computedTotalHeight + "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 每个视图都转换到计算位置 --\x3e")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("view of pool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'translateY('")]),t._v(" + view.computedTop + "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px)'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 您的元素将在此处呈现 --\x3e")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("slot")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":item")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("view.item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":index")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("view.nr.index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":active")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("view.nr.used"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("wrapper")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("RecycleScroller")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"props"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#props"}},[t._v("#")]),t._v(" Props")]),t._v(" "),s("ul",[s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("items")]),t._v("：要在滚动条中显示的项目列表。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("direction（默认值：'vertical'）")]),t._v("：滚动方向，可能的值：'vertical'或者'horizontal'。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("itemSize（默认值：null）：")]),t._v(" 显示用于计算滚动大小和位置的项目的高度（或水平模式下的宽度），以像素为单位。如果将其设置为 null（默认值），它将使用可变大小模式。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("minItemSize")]),t._v(" ：如果项目的高度（或水平模式下的宽度）未知，则使用的最小尺寸。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("sizeField（默认值：'size'）")]),t._v("：用于在可变尺寸模式下获取商品尺寸的字段。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("typeField（默认值：'type'）")]),t._v("：用于区分列表中不同种类组件的字段。对于每种不同的类型，将创建一组回收项目。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("keyField（默认值：'id'）")]),t._v("：用于标识项目和优化管理渲染视图的字段。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("pageMode（默认值：false）")]),t._v("： 启用页面模式。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("prerender（默认值：0）")]),t._v("： 为服务器端渲染（SSR）渲染固定数量的项目。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("buffer（默认值：200）")]),t._v("： 要添加到滚动可见区域边缘的像素数量，以开始在更远的位置渲染项目。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("emitUpdate（默认值 false：'update'）")]),t._v("：每次更新虚拟滚动条内容时都会发出一个事件（可能会影响性能）。")],1)])]),t._v(" "),s("h3",{attrs:{id:"events"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[t._v("#")]),t._v(" Events")]),t._v(" "),s("ul",[s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("resize")]),t._v("：当滚动条的大小改变时触发。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("visible")]),t._v("：当滚动条认为自己在页面中可见时触发。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("hidden")]),t._v("：当滚动条隐藏在页面中时触发。")],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#3e9cd6"}},[t._v("update（startIndex, endIndex）")]),t._v("：每次更新视图时触发，仅当 emitUpdateprop 为 true。")],1)])]),t._v(" "),s("h3",{attrs:{id:"可变尺寸模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可变尺寸模式"}},[t._v("#")]),t._v(" 可变尺寸模式")]),t._v(" "),s("ul",[s("li",[s("p",[s("font",{attrs:{color:"fa9601"}},[t._v("此模式可能会增加很多项目的性能。请谨慎使用。")])],1),t._v(" "),s("blockquote",[s("p",[t._v("如果 itemSize 未设置 prop 或将其设置为 null，则虚拟滚动条将切换到可变大小模式。注意，您需要使用数字类型设置每个 item 对象的 size 属性。")])])]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"fa9601"}},[t._v("您仍然需要使用 CSS 正确设置项目的大小（例如，使用类）。")])],1),t._v(" "),s("blockquote",[s("p",[t._v("使用 sizeField （默认值为'size'）来设置滚动条使用的字段，以获取每个 item 的大小。")])]),t._v(" "),s("p",[t._v("例如：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" items "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    label"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Title'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    label"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    label"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])])]),t._v(" "),s("h2",{attrs:{id:"_2-利用-object-freeze-提升性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-利用-object-freeze-提升性能"}},[t._v("#")]),t._v(" 2. 利用 Object.freeze()提升性能")]),t._v(" "),s("h3",{attrs:{id:"简介-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介-2"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("blockquote",[s("p",[t._v("Object.freeze() 可以冻结一个对象，冻结之后不能向这个对象添加新的属性，不能修改其已有属性的值，不能删除已有属性，以及不能修改该对象已有属性的可枚举性、可配置性、可写性。该方法返回被冻结的对象。")])]),t._v(" "),s("h3",{attrs:{id:"使用场景-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景-2"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("纯展示类的场景，不需要的改变数据")])]),t._v(" "),s("li",[s("p",[t._v("由于 Object.freeze() 会把对象冻结，所以比较适合展示类的场景，如果你的数据属性需要改变，可以重新替换成一个新的 Object.freeze()的对象。")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);